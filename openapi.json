{
  "openapi": "3.0.0",
  "info": {
    "title": "API Todos",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:3001"
    }
  ],
  "tags": [
    {
      "name": "Auth"
    },
    {
      "name": "Todo"
    }
  ],
  "paths": {
    "/auth/register": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Register",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "username": "didik27",
                  "password": "didik123",
                  "name": "Didik Nur Hidayat",
                  "age": 21
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "87"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"57-CTnD9LqQ77CnHL6T90v7O7U2NzY\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 15 Apr 2022 09:20:14 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "success": true,
                  "message": "user successfully registered",
                  "data": {
                    "username": "didik28"
                  }
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "71"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"47-rnIuNcJoPvqQFD9w5H2JEPQBQg0\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 15 Apr 2022 09:18:55 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "example-0": {
                    "summary": "Error 400",
                    "value": {
                      "success": false,
                      "code": "ERR_BAD_REQUEST",
                      "message": "Validation error"
                    }
                  },
                  "example-1": {
                    "summary": "Error 422",
                    "value": {
                      "success": false,
                      "code": "ERR_UNPROCESSABLE_ENTITY",
                      "message": [
                        {
                          "value": true,
                          "msg": "age must be number",
                          "param": "age",
                          "location": "body"
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Login",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "properties": {
                  "username": {
                    "type": "string",
                    "example": "didik27"
                  },
                  "password": {
                    "type": "string",
                    "example": "didik123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "250"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"fa-tjwUplCoO/ptqlchWg/604NcW8M\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 15 Apr 2022 10:15:50 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "success": true,
                  "message": "user successfully login",
                  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjAxYTU0NGNiLTIwYWMtNGY5Ni04ZmMwLTI3ODY1MGM3ODk5ZSIsImlhdCI6MTY1MDAxNzc1MCwiZXhwIjoxNjUwMDIxMzUwfQ.Z7SDPDjjAYe28sUl166WPy1gwuU2V5sW5iiB45HMG1w"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "69"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"45-PE4pE2EUyGdzAkymEbmKUaAvNHU\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 15 Apr 2022 10:23:59 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "success": false,
                  "code": "ERR_BAD_REQUEST",
                  "message": "wrong username"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "167"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"a7-iiEn7qKaFOTLiOF9kK97cNHnsXM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 15 Apr 2022 10:22:43 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "success": false,
                  "code": "ERR_UNPROCESSABLE_ENTITY",
                  "message": [
                    {
                      "value": "didik12",
                      "msg": "minimum password length is 8 character",
                      "param": "password",
                      "location": "body"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/todos": {
      "post": {
        "tags": [
          "Todo"
        ],
        "summary": "Add Todo",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "name": "Task From Binar",
                  "category": "daily",
                  "due_date": "2022-04-16",
                  "isCompleted": "no"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjRlMDEwYzEzLTVmNDAtNDkwMC1hZDc0LTIwMTY2YTU5ZmE0MyIsImlhdCI6MTY1MDAyMzE4NywiZXhwIjoxNjUwMDI2Nzg3fQ.f7btxphXkmhA-2avGClCKFjRh_1QgO1mnhOvKQ0MzNI"
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "336"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"150-jlWeUrkzMlDaYtma8Efl13MWcg0\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 15 Apr 2022 11:46:41 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "success": true,
                  "message": "todo succcessfuly added",
                  "data": {
                    "id": "f5cf9450-7e90-4b47-9943-3e4cfc519bb4",
                    "userId": "4e010c13-5f40-4900-ad74-20166a59fa43",
                    "name": "Task From Binar",
                    "category": "important",
                    "due_date": "2022-04-16T00:00:00.000Z",
                    "isCompleted": "no",
                    "updatedAt": "2022-04-15T11:46:41.799Z",
                    "createdAt": "2022-04-15T11:46:41.799Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "110"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"6e-0VNJnEhop6CAowtn0hUBVYG9dpw\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 15 Apr 2022 11:47:56 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "success": false,
                  "code": "ERR_BAD_REQUEST",
                  "message": "Validation error: Validation isAfter on due_date failed"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "162"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"a2-DrKR9QV1rMNhPqhRTu0p3Gj0e4U\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 15 Apr 2022 11:47:35 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "success": false,
                  "code": "ERR_UNPROCESSABLE_ENTITY",
                  "message": [
                    {
                      "value": "nof",
                      "msg": "category must be contain Yes or No",
                      "param": "isCompleted",
                      "location": "body"
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Todo"
        ],
        "summary": "Get All",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjRlMDEwYzEzLTVmNDAtNDkwMC1hZDc0LTIwMTY2YTU5ZmE0MyIsImlhdCI6MTY1MDAyNjgyNSwiZXhwIjoxNjUwMDMwNDI1fQ.B49QH6hGpoVTGZtpai6-xO1WrfQuargEVkbWYk25QPE"
          },
          {
            "name": "category",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "example": "important"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "284"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"11c-VlbmVxRkiP1CtvEUlysnBKZ9wIc\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 15 Apr 2022 11:59:33 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "success": true,
                  "message": "data successfully retrieved",
                  "data": [
                    {
                      "id": "f5892067-f94c-43b9-b0d7-0a898640bca1",
                      "name": "Task From Binar",
                      "due_date": "2022-04-16T00:00:00.000Z"
                    },
                    {
                      "id": "f5cf9450-7e90-4b47-9943-3e4cfc519bb4",
                      "name": "Task From Campus",
                      "due_date": "2022-04-16T00:00:00.000Z"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/todos/{id}": {
      "get": {
        "tags": [
          "Todo"
        ],
        "summary": "Get Detail Todo",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjRlMDEwYzEzLTVmNDAtNDkwMC1hZDc0LTIwMTY2YTU5ZmE0MyIsImlhdCI6MTY1MDAyNjgyNSwiZXhwIjoxNjUwMDMwNDI1fQ.B49QH6hGpoVTGZtpai6-xO1WrfQuargEVkbWYk25QPE"
          },
          {
            "name": "id",
            "in": "path",
            "schema": {
              "type": "string"
            },
            "required": true,
            "example": "f5892067-f94c-43b9-b0d7-0a898640bca2"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "747"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"2eb-TUQ0DcEBSY5fj7w8iTGFiES+RfU\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 15 Apr 2022 12:46:09 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "success": true,
                  "message": "data successfully retrieved",
                  "data": {
                    "id": "f5892067-f94c-43b9-b0d7-0a898640bca1",
                    "userId": "4e010c13-5f40-4900-ad74-20166a59fa43",
                    "name": "Task From Binar",
                    "category": "important",
                    "due_date": "2022-04-16T00:00:00.000Z",
                    "isCompleted": "no",
                    "createdAt": "2022-04-15T11:47:22.886Z",
                    "updatedAt": "2022-04-15T11:47:22.886Z",
                    "user": {
                      "id": "4e010c13-5f40-4900-ad74-20166a59fa43",
                      "username": "didik27",
                      "password": "$2b$10$clIFBHFS2msMKEvvzFJMZeH4qJrg7gb3N5dlC9.GbpKRn2nNkT1dW",
                      "createdAt": "2022-04-15T11:46:25.658Z",
                      "updatedAt": "2022-04-15T11:46:25.658Z",
                      "profile": {
                        "id": 2,
                        "name": "Didik Nur Hidayat",
                        "age": 21,
                        "createdAt": "2022-04-15T11:46:25.713Z",
                        "updatedAt": "2022-04-15T11:46:25.713Z",
                        "userId": "4e010c13-5f40-4900-ad74-20166a59fa43"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "130"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"82-60SI4MmEsh6LqAIrQ74Clb5IdhI\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 15 Apr 2022 12:48:47 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "success": false,
                  "code": "ERR_BAD_REQUEST",
                  "message": "invalid input syntax for type uuid: \"1f255d43-788d-46d7-a5b0-ab624ecaccb\""
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Todo"
        ],
        "summary": "Edit Todo",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "name": "Task From Campus",
                  "category": "important",
                  "due_date": "2022-04-16",
                  "isCompleted": "yes"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjRlMDEwYzEzLTVmNDAtNDkwMC1hZDc0LTIwMTY2YTU5ZmE0MyIsImlhdCI6MTY1MDAyMzE4NywiZXhwIjoxNjUwMDI2Nzg3fQ.f7btxphXkmhA-2avGClCKFjRh_1QgO1mnhOvKQ0MzNI"
          },
          {
            "name": "id",
            "in": "path",
            "schema": {
              "type": "string"
            },
            "required": true,
            "example": "1f255d43-788d-46d7-a5b0-ab624ecaccbc"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "54"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"36-xNEB5/Hd1r/BomRmAygR8gbu1tY\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 15 Apr 2022 11:59:31 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "success": true,
                  "message": "todo successfully updated"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Todo"
        ],
        "summary": "Delete Todo",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjRlMDEwYzEzLTVmNDAtNDkwMC1hZDc0LTIwMTY2YTU5ZmE0MyIsImlhdCI6MTY1MDAyMzE4NywiZXhwIjoxNjUwMDI2Nzg3fQ.f7btxphXkmhA-2avGClCKFjRh_1QgO1mnhOvKQ0MzNI"
          },
          {
            "name": "id",
            "in": "path",
            "schema": {
              "type": "string"
            },
            "required": true,
            "example": "f5892067-f94c-43b9-b0d7-0a898640bca2"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "54"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"36-vY1a+Z6mSsFVZ4xLV6eaTWIzZ6s\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 15 Apr 2022 12:42:41 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "success": true,
                  "message": "todo successfully deleted"
                }
              }
            }
          }
        }
      }
    }
  }
}